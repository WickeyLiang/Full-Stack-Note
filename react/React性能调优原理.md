###React提高性能方式：虚拟DOM，diff算法，将DOM操作减少到最少


虚拟DOM，解决了在多终端的兼容性，手机、网页web、手表等设备可能都有自己一套dom，但是通过虚拟DOM，我们就不需要关注是什么设备，只要实现虚拟DOM，React会帮我们解释成对应的设备的底层DOM


###调优原因情景：
* 父组件更新默认触发所有子组件的更新
* 列表类型组件默认更新方式非常复杂（给列表加唯一key，方便react的更新算法）
* 子组件覆盖shouldComponentUpdate方法，自行决定是否更新，返回false
* 给列表中的组件添加key属性，必须在组件内部唯一


###虚拟DOM更新流程图：






###调优的最佳时机：
避免“过早优化”，完成所有功能后再调优，产品开发出来是重点


###调优重点：
判断状态有没有变化
在shouldComponentUpdate的生命周期函数实现


###React自带的性能分析工具：
Perf.start() 代码行处性能开始计算
Perf.stop() 代码行处性能计算结束
调试时不能操作太多，只执行一步操作


###React自带的解决性能问题的插件：
PureRenderMixin：判断状态和属性是否有改变，因为状态和属性的改变决定组件是否需要更 新（标准React的规范），试用原始值。
###插件存在的问题：
如果组件的state中存在对象，使用它就可能存在问题，因为它只进行浅判断，即不会对对象进行递归判断对象中的属性是否有改变，只要前后对比指针指向同一个对象，则认为对象没变，不需要进行render，而其实对象本身属性可能发生了变化，所以要结合下面插件


###Immutability Helpers，实现JS不可变对象：
修改不可变对象会返回一个新对象，之前的对象保持不变
不同对象在JS引擎中的引用不同，因此直接比较引用即可确定是否发生改变
一般来说，在js中给一个变量赋值了一个对象，这个变量的属性改变了，相应的对象也会改变，因为他们赋值的是对象的指针（引用）。不可变对象则是当把一个对象赋值给一个变量的时候，他会把对象复制一份，然后复制的赋值给变量，变量被修改后，修改的只是复制的对象，原有的对象不变。

不可变对象可以大大提高对象比较性能，用于状态和属性判断非常有效






















